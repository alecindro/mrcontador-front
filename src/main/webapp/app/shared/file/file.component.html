<h1>Upload your Avatar!</h1>
<div>
  <div *ngIf="error">
    {{ error.message }}
  </div>
  <div *ngIf="uploadResponse.status === 'error'">
    {{ uploadResponse.message }}
  </div>
  <div *ngIf="uploadResponse.status === 'progress'">

    <p>
      <ngb-progressbar [showValue]="true" type="info" [value]="uploadResponse.percent"></ngb-progressbar>
    </p>
    <!--<div role="progressbar" [style.width.%]="uploadResponse.message" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">
      {{uploadResponse.message}}%
    </div>
-->
  </div>

  <form [formGroup]="form" (ngSubmit)="onSubmit()">

    <input type="file" name="avatar" (change)="onFileChange($event)" />
    <button type="submit">Upload</button>

  </form>
  <div class="uploadimage-dragndrop" id="dragndropimage"
    style="width: 500px;left: 50%;margin-left: -250px;position: relative;">
    <div class="uploadimage-text">Arraste arquivos aqui</div>

    <div>Ou, se prefirir...</div>

    <div class="uploadimage-input">
      <input id="upload-input" multiple="multiple" name="uploadFiles" type="file" (change)="onFileChange($event)">
    </div>
  </div>

  <div *ngFor="let progressInfo of progressInfos" class="mb-2">
      <span>{{ progressInfo.fileName }}</span>
      <div class="progress">
        <div
          class="progress-bar progress-bar-info progress-bar-striped"
          role="progressbar"
          attr.aria-valuenow="{{ progressInfo.value }}"
          aria-valuemin="0"
          aria-valuemax="100"
          [ngStyle]="{ width: progressInfo.value + '%' }"
        >
          {{ progressInfo.value }}%
        </div>
      </div>
    </div>
    
    <label class="btn btn-default">
      <input type="file" multiple (change)="selectFiles($event)" />
    </label>
    
    <button
      class="btn btn-success"
      [disabled]="!selectedFiles"
      (click)="uploadFiles()"
    >
      Upload
    </button>

</div>